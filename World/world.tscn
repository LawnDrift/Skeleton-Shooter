[gd_scene load_steps=14 format=4 uid="uid://dy23e76w3lrb"]

[ext_resource type="Texture2D" uid="uid://btdg42rwhitjt" path="res://World/walls.png" id="1_7o7tc"]
[ext_resource type="Script" path="res://World/world.gd" id="1_8ku41"]
[ext_resource type="Texture2D" uid="uid://cdedorva34wu7" path="res://Effects/Light.png" id="2_k2m3t"]
[ext_resource type="PackedScene" uid="uid://gguvth8dwy0r" path="res://Player/skeleton.tscn" id="3_vndvq"]
[ext_resource type="PackedScene" uid="uid://dumpo8smmwp6" path="res://Enemies/ghost.tscn" id="4_8f45d"]
[ext_resource type="PackedScene" uid="uid://ckuea2t7r0isv" path="res://UI/health_ui.tscn" id="5_7plgs"]
[ext_resource type="PackedScene" uid="uid://cstacl4uln26" path="res://World/chest.tscn" id="7_hcexn"]
[ext_resource type="Script" path="res://World/chest1.gd" id="8_w01c4"]
[ext_resource type="Texture2D" uid="uid://v2u3lkfwysf1" path="res://Player/BigGun.png" id="9_b3lyk"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_rq36p"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5ht5t"]
texture = ExtResource("1_7o7tc")
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_rq36p")
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_as5gk"]
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 129
physics_layer_0/collision_mask = 129
sources/0 = SubResource("TileSetAtlasSource_5ht5t")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qtyj3"]
radius = 5.0
height = 22.0

[node name="World" type="Node2D"]
script = ExtResource("1_8ku41")

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 1054.0
offset_bottom = 181.0
color = Color(0.174144, 0.120285, 0.120285, 1)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAsAAAAAAAAAAAABAAsAAAAAAAAAAAACAAsAAAAAAAAAAAADAAsAAAAAAAAAAAAEAAsAAAAAAAAAAAAFAAsAAAAAAAAAAAAGAAsAAAAAAAAAAAAHAAsAAAAAAAAAAAAIAAsAAAAAAAAAAAAJAAsAAAAAAAAAAAAKAAsAAAAAAAAAAAALAAsAAAAAAAAAAAAMAAsAAAAAAAAAAAANAAsAAAAAAAAAAAAOAAsAAAAAAAAAAAAPAAsAAAAAAAAAAAAQAAsAAAAAAAAAAAARAAsAAAAAAAAAAAASAAsAAAAAAAAAAAATAAsAAAAAAAAAAAAUAAsAAAAAAAAAAAAUAP//AAAAAAAAAAATAP//AAAAAAAAAAASAP//AAAAAAAAAAARAP//AAAAAAAAAAAQAP//AAAAAAAAAAAPAP//AAAAAAAAAAAOAP//AAAAAAAAAAANAP//AAAAAAAAAAAMAP//AAAAAAAAAAALAP//AAAAAAAAAAAKAP//AAAAAAAAAAAJAP//AAAAAAAAAAAIAP//AAAAAAAAAAAHAP//AAAAAAAAAAAGAP//AAAAAAAAAAAFAP//AAAAAAAAAAAEAP//AAAAAAAAAAADAP//AAAAAAAAAAACAP//AAAAAAAAAAABAP//AAAAAAAAAAAAAP//AAAAAAAAAAAEAAcAAAAAAAAAAAAFAAcAAAAAAAAAAAAGAAcAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAAAAAAAAAAAAAAFAAMAAAAAAAAAAAAGAAMAAAAAAAAAAAAHAAMAAAAAAAAAAAAIAAMAAAAAAAAAAAAJAAMAAAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAAgAAAAAAAAAAAAHAAcAAAAAAAAAAAAKAAoAAAAAAAAAAAAKAAkAAAAAAAAA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AAAfAAAAAAAAAAAAAAAjAAIAAAAAAAAAAAAjAAMAAAAAAAAAAAAjAAQAAAAAAAAAAAAjAAUAAAAAAAAAAAAjAAYAAAAAAAAAAAAiAAYAAAAAAAAAAAAhAAYAAAAAAAAAAAAgAAYAAAAAAAAAAAAgAAkAAAAAAAAAAAAhAAkAAAAAAAAAAAAiAAkAAAAAAAAAAAAjAAkAAAAAAAAAAAAkAAIAAAAAAAAAAAAlAAIAAAAAAAAAAAAmAAIAAAAAAAAAAAAqAAAAAAAAAAAAAAAqAAEAAAAAAAAAAAAqAAIAAAAAAAAAAAAqAAMAAAAAAAAAAAAmAAYAAAAAAAAAAAAmAAcAAAAAAAAAAAAmAAgAAAAAAAAAAAAmAAkAAAAAAAAAAAAlAAkAAAAAAAAAAAAkAAkAAAAAAAAAAAAnAAYAAAAAAAAAAAAoAAYAAAAAAAAAAAApAAoAAAAAAAAAAAApAAkAAAAAAAAAAAAqAAkAAAAAAAAAAAArAAkAAAAAAAAAAAArAAgAAAAAAAAAAAArAAcAAAAAAAAAAAArAAMAAAAAAAAAAAAsAAMAAAAAAAAAAAAtAAMAAAAAAAAAAAAuAAMAAAAAAAAAAAAuAAQAAAAAAAAAAAAuAAUAAAAAAAAAAAAuAAYAAAAAAAAAAAAuAAcAAAAAAAAAAAAxAAAAAAAAAAAAAAAxAAEAAAAAAAAAAAAxAAIAAAAAAAAAAAAxAAMAAAAAAAAAAAAxAAQAAAAAAAAAAAAyAAQAAAAAAAAAAAAzAAQAAAAAAAAAAAA0AAQAAAAAAAAAAAA0AAMAAAAAAAAAAAA0AAIAAAAAAAAAAAA1AAIAAAAAAAAAAAA2AAIAAAAAAAAAAAA3AAIAAAAAAAAAAAA4AAIAAAAAAAAAAAAxAAcAAAAAAAAAAAAxAAgAAAAAAAAAAAAxAAkAAAAAAAAAAAAyAAkAAAAAAAAAAAAzAAkAAAAAAAAAAAA0AAkAAAAAAAAAAAA1AAkAAAAAAAAAAAA2AAkAAAAAAAAAAAAyAAcAAAAAAAAAAAAzAAcAAAAAAAAAAAA0AAcAAAAAAAAAAAA1AAcAAAAAAAAAAAA2AAcAAAAAAAAAAAA5AAoAAAAAAAAAAAA5AAkAAAAAAAAAAAA5AAgAAAAAAAAAAAA5AAcAAAAAAAAAAAA5AAYAAAAAAAAAAAA5AAUAAAAAAAAAAAA6AAUAAAAAAAAAAAA5AAIAAAAAAAAAAAA6AAIAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_as5gk")

[node name="Skeleton" parent="." instance=ExtResource("3_vndvq")]
position = Vector2(33, 20)

[node name="PointLight2D" type="PointLight2D" parent="Skeleton"]
position = Vector2(-1, 3.5)
scale = Vector2(1, 1.01172)
color = Color(1, 0.427658, 0.585596, 1)
energy = 1.76
shadow_enabled = true
shadow_filter = 1
shadow_filter_smooth = 0.6
texture = ExtResource("2_k2m3t")

[node name="Camera2D" type="Camera2D" parent="Skeleton"]
limit_left = 0
limit_top = -8
limit_right = 1045
limit_bottom = 180
limit_smoothed = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.466667, 0.317647, 0.317647, 0.858824)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HealthUI" parent="CanvasLayer" instance=ExtResource("5_7plgs")]

[node name="Enemies" type="Node2D" parent="."]

[node name="Ghost" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(108, 25)

[node name="Ghost2" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(91, 161)

[node name="Ghost3" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(254, 162)

[node name="Ghost4" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(444, 159)

[node name="Ghost5" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(535, 21)

[node name="Ghost6" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(661, 130)

[node name="Ghost7" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(773, 165)

[node name="Ghost8" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(730, 32)

[node name="Ghost9" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(1012, 65)

[node name="Ghost10" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(912, 14)

[node name="Ghost11" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(946, 155)

[node name="Ghost12" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(442, 15)

[node name="Ghost13" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(493, 128)

[node name="Ghost14" parent="Enemies" instance=ExtResource("4_8f45d")]
position = Vector2(306, 61)

[node name="Chest" parent="." instance=ExtResource("7_hcexn")]
position = Vector2(39, 80)
script = ExtResource("8_w01c4")

[node name="bigGun" type="Sprite2D" parent="Chest"]
position = Vector2(7, 10)
texture = ExtResource("9_b3lyk")

[node name="item_zone" type="Area2D" parent="Chest/bigGun"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chest/bigGun/item_zone"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_qtyj3")
debug_color = Color(0.7, 0, 0.545753, 0.42)

[connection signal="health_depleted" from="Skeleton" to="." method="_on_skeleton_health_depleted"]
[connection signal="body_entered" from="Chest/ChestZone" to="Chest" method="_on_chest_zone_body_entered"]
[connection signal="body_exited" from="Chest/ChestZone" to="Chest" method="_on_chest_zone_body_exited"]
[connection signal="body_entered" from="Chest/bigGun/item_zone" to="Chest" method="_on_item_zone_body_entered"]

[editable path="Chest"]
